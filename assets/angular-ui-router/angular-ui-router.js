//# sourceMappingURL=angular-ui-router.js.map
/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
"undefined"!==typeof module&&"undefined"!==typeof exports&&module.exports===exports&&(module.exports="ui.router");
(function(ya,u,za){function N(a,d){return w(new (w(function(){},{prototype:a})),d)}function R(a){v(arguments,function(d){d!==a&&v(d,function(c,d){a.hasOwnProperty(d)||(a[d]=c)})});return a}function C(a){if(Object.keys)return Object.keys(a);var d=[];v(a,function(a,l){d.push(l)});return d}function G(a,d,c){if(Array.prototype.indexOf)return a.indexOf(d,Number(c)||0);var l=a.length>>>0;c=Number(c)||0;c=0>c?Math.ceil(c):Math.floor(c);for(0>c&&(c+=l);c<l;c++)if(c in a&&a[c]===d)return c;return-1}function X(a,
d,c,l){var n=[],k;for(k in c.path){if(c.path[k]!==l.path[k])break;n.push(c.path[k])}l={};k=[];for(var q in n)if(n[q]&&n[q].params&&(c=C(n[q].params),c.length))for(var p in c)0<=G(k,c[p])||(k.push(c[p]),l[c[p]]=a[c[p]]);return w({},l,d)}function O(a,d){var c={};v(a,function(a){c[a]=d[a]});return c}function Y(a){var d={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));v(c,function(c){c in a&&(d[c]=a[c])});return d}function P(a){var d={},c=Array.prototype.concat.apply(Array.prototype,
Array.prototype.slice.call(arguments,1)),l;for(l in a)-1==G(c,l)&&(d[l]=a[l]);return d}function S(a,d){var c=D(a),l=c?[]:{};v(a,function(a,k){d(a,k)&&(l[c?l.length:k]=a)});return l}function J(a,d){var c=D(a)?[]:{};v(a,function(a,n){c[n]=d(a,n)});return c}function K(a){return a.then(void 0,function(){})&&a}function Z(a,d){var c={},l=[],n=w(a.when(c),{$$promises:c,$$values:c});this.study=function(k){function q(b,a){if(2!==g[a]){f.push(a);if(1===g[a])throw f.splice(0,G(f,a)),Error("Cyclic dependency: "+
f.join(" -> "));g[a]=1;if(z(b))e.push(a,[function(){return d.get(b)}],l);else{var h=d.annotate(b);v(h,function(b){b!==a&&k.hasOwnProperty(b)&&q(k[b],b)});e.push(a,b,h)}f.pop();g[a]=2}}function p(b){return H(b)&&b.then&&b.$$promises}if(!H(k))throw Error("'invocables' must be an object");var r=C(k||{}),e=[],f=[],g={};v(k,q);k=f=g=null;return function(b,m,h){function t(){--ta||(aa||R(q,m.$$values),l.$$values=q,l.$$promises=l.$$promises||!0,delete l.$$inheritedValues,k.resolve(q))}function f(b){l.$$failure=
b;k.reject(b)}function g(c,m,e){function U(b){n.reject(b);f(b)}function k(){if(!y(l.$$failure))try{n.resolve(d.invoke(m,h,q)),n.promise.then(function(b){q[c]=b;t()},U)}catch(b){U(b)}}var n=a.defer(),p=0;v(e,function(h){Q.hasOwnProperty(h)&&!b.hasOwnProperty(h)&&(p++,Q[h].then(function(b){q[h]=b;--p||k()},U))});p||k();Q[c]=K(n.promise)}p(b)&&void 0===h&&(h=m,m=b,b=null);if(!b)b=c;else if(!H(b))throw Error("'locals' must be an object");if(!m)m=n;else if(!p(m))throw Error("'parent' must be a promise returned by $resolve.resolve()");
var k=a.defer(),l=K(k.promise),Q=l.$$promises={},q=w({},b),ta=1+e.length/3,aa=!1;K(l);if(y(m.$$failure))return f(m.$$failure),l;m.$$inheritedValues&&R(q,P(m.$$inheritedValues,r));w(Q,m.$$promises);m.$$values?(aa=R(q,P(m.$$values,r)),l.$$inheritedValues=P(m.$$values,r),t()):(m.$$inheritedValues&&(l.$$inheritedValues=P(m.$$inheritedValues,r)),m.then(t,f));for(var u=0,z=e.length;u<z;u+=3)b.hasOwnProperty(e[u])?t():g(e[u],e[u+1],e[u+2]);return l}};this.resolve=function(a,c,d,l){return this.study(a)(c,
d,l)}}function wa(a,d,c,l){this.fromConfig=function(a,c,d){return y(a.template)?this.fromString(a.template,c):y(a.templateUrl)?this.fromUrl(a.templateUrl,c):y(a.templateProvider)?this.fromProvider(a.templateProvider,c,d):null};this.fromString=function(a,c){return B(a)?a(c):a};this.fromUrl=function(n,k){B(n)&&(n=n(k));return null==n?null:l?a.get(n,{cache:d,headers:{Accept:"text/html"}}).then(function(a){return a.data}):c.get("$templateRequest")(n)};this.fromProvider=function(a,d,l){return c.invoke(a,
null,l||{params:d})}}function E(a,d,c){function l(c,t,f,g){h.push(c);if(b[c])return b[c];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(c))throw Error("Invalid parameter name '"+c+"' in pattern '"+a+"'");if(m[c])throw Error("Duplicate parameter name '"+c+"' in pattern '"+a+"'");m[c]=new F.Param(c,t,f,g);return m[c]}function n(b,h,a,c){var t=["",""];b=b.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!h)return b;switch(a){case !1:t=["(",")"+(c?"?":"")];break;case !0:b=b.replace(/\/$/,"");t=["(?:/(",")|/)?"];break;
default:t=["("+a+"|",")?"]}return b+t[0]+h+t[1]}function k(b,h){var c,t,f,m,g;c=b[2]||b[3];g=d.params[c];f=a.substring(e,b.index);(t=h?b[4]:b[4]||("*"==b[1]?".*":null))&&(m=F.type(t)||N(F.type("string"),{pattern:new RegExp(t,d.caseInsensitive?"i":void 0)}));return{id:c,regexp:t,segment:f,type:m,cfg:g}}d=w({params:{}},H(d)?d:{});var q=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
r="^",e=0,f,g=this.segments=[],b=c?c.params:{},m=this.params=c?c.params.$$new():new F.ParamSet,h=[];this.source=a;for(var t;f=q.exec(a);){f=k(f,!1);if(0<=f.segment.indexOf("?"))break;t=l(f.id,f.type,f.cfg,"path");r+=n(f.segment,t.type.pattern.source,t.squash,t.isOptional);g.push(f.segment);e=q.lastIndex}c=a.substring(e);f=c.indexOf("?");if(0<=f){var M=this.sourceSearch=c.substring(f);c=c.substring(0,f);this.sourcePath=a.substring(0,e+f);if(0<M.length)for(e=0;f=p.exec(M);)f=k(f,!0),t=l(f.id,f.type,
f.cfg,"search"),e=q.lastIndex}else this.sourcePath=a,this.sourceSearch="";r+=n(c)+(!1===d.strict?"/?":"")+"$";g.push(c);this.regexp=new RegExp(r,d.caseInsensitive?"i":void 0);this.prefix=g[0];this.$$paramNames=h}function x(a){w(this,a)}function da(){function a(b){return null!=b?b.toString().replace(/(~|\/)/g,function(b){return{"~":"~~","/":"~2F"}[b]}):b}function d(b){return B(b)||D(b)&&B(b[b.length-1])}function c(){for(;e.length;){var b=e.shift();if(b.pattern)throw Error("You cannot override a type's .pattern at runtime.");
u.extend(p[b.name],f.invoke(b.def))}}function l(b){w(this,b||{})}F=this;var n=!1,k=!0,q=!1,p={},r=!0,e=[],f,g={string:{encode:a,decode:function(b){return null!=b?b.toString().replace(/(~~|~2F)/g,function(b){return{"~~":"~","~2F":"/"}[b]}):b},is:function(b){return null==b||!y(b)||"string"===typeof b},pattern:/[^/]*/},"int":{encode:a,decode:function(b){return parseInt(b,10)},is:function(b){return void 0!==b&&null!==b&&this.decode(b.toString())===b},pattern:/-?\d+/},bool:{encode:function(b){return b?
1:0},decode:function(b){return 0!==parseInt(b,10)},is:function(b){return!0===b||!1===b},pattern:/0|1/},date:{encode:function(b){return this.is(b)?[b.getFullYear(),("0"+(b.getMonth()+1)).slice(-2),("0"+b.getDate()).slice(-2)].join("-"):void 0},decode:function(b){return this.is(b)?b:(b=this.capture.exec(b))?new Date(b[1],b[2]-1,b[3]):void 0},is:function(b){return b instanceof Date&&!isNaN(b.valueOf())},equals:function(b,a){return this.is(b)&&this.is(a)&&b.toISOString()===a.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,
capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:u.toJson,decode:u.fromJson,is:u.isObject,equals:u.equals,pattern:/[^/]*/},any:{encode:u.identity,decode:u.identity,equals:u.equals,pattern:/.*/}};da.$$getDefaultValue=function(b){if(!d(b.value))return b.value;if(!f)throw Error("Injectable functions cannot be called at configuration time");return f.invoke(b.value)};this.caseInsensitive=function(b){y(b)&&(n=b);return n};this.strictMode=function(b){y(b)&&(k=b);return k};this.defaultSquashPolicy=
function(b){if(!y(b))return q;if(!0!==b&&!1!==b&&!z(b))throw Error("Invalid squash policy: "+b+". Valid policies: false, true, arbitrary-string");return q=b};this.compile=function(b,a){return new E(b,w({strict:k,caseInsensitive:n},a))};this.isMatcher=function(b){if(!H(b))return!1;var a=!0;v(E.prototype,function(h,c){B(h)&&(a=a&&y(b[c])&&B(b[c]))});return a};this.type=function(b,a,h){if(!y(a))return p[b];if(p.hasOwnProperty(b))throw Error("A type named '"+b+"' has already been defined.");p[b]=new x(w({name:b},
a));h&&(e.push({name:b,def:h}),r||c());return this};v(g,function(b,a){p[a]=new x(w({name:a},b))});p=N(p,{});this.$get=["$injector",function(b){f=b;r=!1;c();v(g,function(b,h){p[h]||(p[h]=new x(b))});return this}];this.Param=function(b,a,h,c){function g(){if(!f)throw Error("Injectable functions cannot be called at configuration time");var b=f.invoke(h.$$fn);if(null!==b&&void 0!==b&&!e.type.is(b))throw Error("Default value ("+b+") for parameter '"+e.id+"' is not an instance of Type ("+e.type.name+")");
return b}var e=this;h=function(b){var a=H(b)?C(b):[];-1===G(a,"value")&&-1===G(a,"type")&&-1===G(a,"squash")&&-1===G(a,"array")&&(b={value:b});b.$$fn=d(b.value)?b.value:function(){return b.value};return b}(h);a=function(a,h,c){if(a.type&&h)throw Error("Param '"+b+"' has two type configurations.");return h?h:a.type?u.isString(a.type)?p[a.type]:a.type instanceof x?a.type:new x(a.type):"config"===c?p.any:p.string}(h,a,c);var l=function(){var a={array:"search"===c?"auto":!1},f=b.match(/\[\]$/)?{array:!0}:
{};return w(a,f,h).array}();a=l?a.$asArray(l,"search"===c):a;"string"!==a.name||l||"path"!==c||void 0!==h.value||(h.value="");var k=void 0!==h.value,n=function(b,a){var h=b.squash;if(!a||!1===h)return!1;if(!y(h)||null==h)return q;if(!0===h||z(h))return h;throw Error("Invalid squash policy: '"+h+"'. Valid policies: false, true, or arbitrary string");}(h,k),r=function(b,a,h,c){var t;a=[{from:"",to:h||a?void 0:""},{from:null,to:h||a?void 0:""}];b=D(b.replace)?b.replace:[];z(c)&&b.push({from:c,to:void 0});
t=J(b,function(b){return b.from});return S(a,function(b){return-1===G(t,b.from)}).concat(b)}(h,l,k,n);w(this,{id:b,type:a,location:c,array:l,squash:n,replace:r,isOptional:k,value:function(b){function a(b){return function(a){return a.from===b}}b=function(b){var h=J(S(e.replace,a(b)),function(b){return b.to});return h.length?h[0]:b}(b);return y(b)?e.type.$normalize(b):g()},dynamic:void 0,config:h,toString:function(){return"{Param:"+b+" "+a+" squash: '"+n+"' optional: "+k+"}"}})};l.prototype={$$new:function(){return N(this,
w(new l,{$$parent:this}))},$$keys:function(){for(var b=[],a=[],h=this,c=C(l.prototype);h;)a.push(h),h=h.$$parent;a.reverse();v(a,function(a){v(C(a),function(a){-1===G(b,a)&&-1===G(c,a)&&b.push(a)})});return b},$$values:function(b){var a={},h=this;v(h.$$keys(),function(c){a[c]=h[c].value(b&&b[c])});return a},$$equals:function(b,a){var h=!0,c=this;v(c.$$keys(),function(f){c[f].type.equals(b&&b[f],a&&a[f])||(h=!1)});return h},$$validates:function(b){var a=this.$$keys(),h,c,f;for(h=0;h<a.length;h++){c=
this[a[h]];f=b[a[h]];if((void 0===f||null===f)&&c.isOptional)break;f=c.type.$normalize(f);if(!c.type.is(f))return!1;f=c.type.encode(f);if(u.isString(f)&&!c.type.pattern.exec(f))return!1}return!0},$$parent:void 0};this.ParamSet=l}function ea(a,d){function c(a){a=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=a?a[1].replace(/\\(.)/g,"$1"):""}function l(a,c){return a.replace(/\$(\$|\d{1,2})/,function(b,a){return c["$"===a?0:Number(a)]})}function n(a,c,b){if(!b)return!1;
a=a.invoke(c,c,{$match:b});return y(a)?a:!0}function k(c,g,b,d,h){function t(a){function h(a){a=a(b,c);if(!a)return!1;z(a)&&c.replace().url(a);return!0}if(!a||!a.defaultPrevented){T&&c.url();T=void 0;a=q.length;var t;for(t=0;t<a;t++)if(h(q[t]))return;p&&h(p)}}function l(){return e=e||g.$on("$locationChangeSuccess",t)}var k=d.baseHref(),n=c.url(),T;r||l();return{sync:function(){t()},listen:function(){return l()},update:function(a){a?n=c.url():c.url()!==n&&(c.url(n),c.replace())},push:function(a,b,
h){a=a.format(b||{});null!==a&&b&&b["#"]&&(a+="#"+b["#"]);c.url(a);T=h&&h.$$avoidResync?c.url():void 0;h&&h.replace&&c.replace()},href:function(b,t,g){if(!b.validates(t))return null;var e=a.html5Mode();u.isObject(e)&&(e=e.enabled);e=e&&h.history;b=b.format(t);g=g||{};e||null===b||(b="#"+a.hashPrefix()+b);null!==b&&t&&t["#"]&&(b+="#"+t["#"]);t=g.absolute;b="/"===k?b:e?k.slice(0,-1)+b:t?k.slice(1)+b:b;if(!g.absolute||!b)return b;g=!e&&b?"/":"";e=c.port();e=80===e||443===e?"":":"+e;return[c.protocol(),
"://",c.host(),e,g,b].join("")}}}var q=[],p=null,r=!1,e;this.rule=function(a){if(!B(a))throw Error("'rule' must be a function");q.push(a);return this};this.otherwise=function(a){if(z(a)){var c=a;a=function(){return c}}else if(!B(a))throw Error("'rule' must be a function");p=a;return this};this.when=function(a,e){var b,m=z(e);z(a)&&(a=d.compile(a));if(!m&&!B(e)&&!D(e))throw Error("invalid 'handler' in when()");var h={matcher:function(a,h){m&&(b=d.compile(h),h=["$match",function(a){return b.format(a)}]);
return w(function(b,c){return n(b,h,a.exec(c.path(),c.search()))},{prefix:z(a.prefix)?a.prefix:""})},regex:function(a,h){if(a.global||a.sticky)throw Error("when() RegExp must not be global or sticky");m&&(b=h,h=["$match",function(a){return l(b,a)}]);return w(function(b,c){return n(b,h,a.exec(c.path()))},{prefix:c(a)})}},t={matcher:d.isMatcher(a),regex:a instanceof RegExp},k;for(k in t)if(t[k])return this.rule(h[k](a,e));throw Error("invalid 'what' in when()");};this.deferIntercept=function(a){void 0===
a&&(a=!0);r=a};this.$get=k;k.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function fa(a,d){function c(a,b){if(a){var e=z(a),g=e?a:a.name,d=g;if(0===d.indexOf(".")||0===d.indexOf("^")){if(!b)throw Error("No reference point given for path '"+g+"'");b=c(b);for(var d=g.split("."),l=0,k=d.length,m=b;l<k;l++)if(""===d[l]&&0===l)m=b;else if("^"===d[l]){if(!m.parent)throw Error("Path '"+g+"' not valid for state '"+b.name+"'");m=m.parent}else break;d=d.slice(l).join(".");g=m.name+(m.name&&
d?".":"")+d}if((g=f[g])&&(e||!e&&(g===a||g.self===a)))return g}}function l(a,c){b[a]||(b[a]=[]);b[a].push(c)}function n(a){for(a=b[a]||[];a.length;)k(a.shift())}function k(b){b=N(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!z(c)||0<=c.indexOf("@"))throw Error("State must have a valid name");if(f.hasOwnProperty(c))throw Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):z(b.parent)?b.parent:H(b.parent)&&
z(b.parent.name)?b.parent.name:"";if(e&&!f[e])return l(e,b.self);for(var d in m)B(m[d])&&(b[d]=m[d](b,m.$delegates[d]));f[c]=b;!b["abstract"]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){var e;if(!(e=g.$current.navigable!=b)){a:{e=void 0;if(!e){e=[];for(var t in a)e.push(t)}for(t=0;t<e.length;t++){var d=e[t];if(a[d]!=c[d]){e=!1;break a}}e=!0}e=!e}e&&g.transitionTo(b,a,{inherit:!0,location:!1})}]);n(c);return b}function q(a){a=a.split(".");for(var b=g.$current.name.split("."),c=0,e=
a.length;c<e;c++)"*"===a[c]&&(b[c]="*");"**"===a[0]&&(b=b.slice(G(b,a[1])),b.unshift("**"));"**"===a[a.length-1]&&(b.splice(G(b,a[a.length-2])+1,Number.MAX_VALUE),b.push("**"));return a.length!=b.length?!1:b.join("")===a.join("")}function p(a,b,d,l,m,k,n,p,x){function G(c,e,d,l){var f=a.$broadcast("$stateNotFound",c,e,d);if(f.defaultPrevented)return n.update(),ba;if(!f.retry)return null;if(l.$retry)return n.update(),ca;var k=g.transition=b.when(f.retry);k.then(function(){if(k!==g.transition)return a.$broadcast("$stateChangeCancel",
c.to,c.toParams,e,d),E;c.options.$retry=!0;return g.transitionTo(c.to,c.toParams,c.options)},function(){return ba});n.update();return k}function va(a,c,h,e,g,f){var k=h?c:O(a.params.$$keys(),c);g.resolve=m.resolve(a.resolve,{$stateParams:k},g.resolve,a);c=[g.resolve.then(function(a){g.globals=a})];e&&c.push(e);return b.all(c).then(function(){var c=[];v(a.views,function(b,h){var e=b.resolve&&b.resolve!==a.resolve?b.resolve:{};e.$template=[function(){return d.load(h,{view:b,locals:g.globals,params:k,
notify:f.notify})||""}];c.push(m.resolve(e,g.globals,g.resolve,a).then(function(c){if(B(b.controllerProvider)||D(b.controllerProvider)){var d=u.extend({},e,g.globals);c.$$controller=l.invoke(b.controllerProvider,null,d)}else c.$$controller=b.controller;c.$$state=a;c.$$controllerAs=b.controllerAs;c.$$resolveAs=b.resolveAs;g[h]=c}))});return b.all(c).then(function(){return g.globals})}).then(function(a){return g})}var F=Error("transition superseded"),E=K(b.reject(F)),ua=K(b.reject(Error("transition prevented"))),
ba=K(b.reject(Error("transition aborted"))),ca=K(b.reject(Error("transition failed")));e.locals={resolve:null,globals:{$stateParams:{}}};return g={params:{},current:e.self,$current:e,transition:null,reload:function(a){return g.transitionTo(g.current,k,{reload:a||!0,inherit:!1,notify:!0})},go:function(a,b,c){return g.transitionTo(a,b,w({inherit:!0,relative:g.$current},c))},transitionTo:function(d,f,m){f=f||{};m=w({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},m||{});var p=g.$current,
q=g.params,u=p.path,M,A=c(d,m.relative),v=f["#"];if(!y(A)){var A={to:d,toParams:f,options:m},x=G(A,p.self,q,m);if(x)return x;d=A.to;f=A.toParams;m=A.options;A=c(d,m.relative);if(!y(A)){if(!m.relative)throw Error("No such state '"+d+"'");throw Error("Could not resolve '"+d+"' from state '"+m.relative+"'");}}if(A["abstract"])throw Error("Cannot transition to abstract state '"+d+"'");m.inherit&&(f=X(k,f||{},g.$current,A));if(!A.params.$$validates(f))return ca;f=A.params.$$values(f);d=A;var B=d.path,
I=0,A=B[I],x=e.locals,D=[];if(!m.reload)for(;A&&A===u[I]&&A.ownParams.$$equals(f,q);)x=D[I]=A.locals,I++,A=B[I];else if(z(m.reload)||H(m.reload)){if(H(m.reload)&&!m.reload.name)throw Error("Invalid reload state object");var L=!0===m.reload?u[0]:c(m.reload);if(m.reload&&!L)throw Error("No such reload state '"+(z(m.reload)?m.reload:m.reload.name)+"'");for(;A&&A===u[I]&&A!==L;)x=D[I]=A.locals,I++,A=B[I]}if(r(d,f,p,q,x,m))return v&&(f["#"]=v),g.params=f,V(g.params,k),V(O(d.params.$$keys(),k),d.locals.globals.$stateParams),
m.location&&d.navigable&&d.navigable.url&&(n.push(d.navigable.url,f,{$$avoidResync:!0,replace:"replace"===m.location}),n.update(!0)),g.transition=null,b.when(g.current);f=O(d.params.$$keys(),f||{});v&&(f["#"]=v);if(m.notify&&a.$broadcast("$stateChangeStart",d.self,f,p.self,q,m).defaultPrevented)return a.$broadcast("$stateChangeCancel",d.self,f,p.self,q),null==g.transition&&n.update(),ua;v=b.when(x);for(L=I;L<B.length;L++,A=B[L])x=D[L]=N(x),v=va(A,f,A===d,v,x,m);var C=g.transition=v.then(function(){var b,
c;if(g.transition!==C)return a.$broadcast("$stateChangeCancel",d.self,f,p.self,q),E;for(b=u.length-1;b>=I;b--)c=u[b],c.self.onExit&&l.invoke(c.self.onExit,c.self,c.locals.globals),c.locals=null;for(b=I;b<B.length;b++)c=B[b],c.locals=D[b],c.self.onEnter&&l.invoke(c.self.onEnter,c.self,c.locals.globals);if(g.transition!==C)return a.$broadcast("$stateChangeCancel",d.self,f,p.self,q),E;g.$current=d;g.current=d.self;g.params=f;V(g.params,k);g.transition=null;m.location&&d.navigable&&n.push(d.navigable.url,
d.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===m.location});m.notify&&a.$broadcast("$stateChangeSuccess",d.self,f,p.self,q);n.update(!0);return g.current}).then(null,function(c){if(c===F)return E;if(g.transition!==C)return a.$broadcast("$stateChangeCancel",d.self,f,p.self,q),E;g.transition=null;M=a.$broadcast("$stateChangeError",d.self,f,p.self,q,c);M.defaultPrevented||n.update();return b.reject(c)});K(C);return C},is:function(a,b,h){h=w({relative:g.$current},h||{});
var e=c(a,h.relative);return y(e)?g.$current!==e?!1:!b||C(b).reduce(function(a,c){var h=e.params[c];return a&&(!h||h.type.equals(k[c],b[c]))},!0):void 0},includes:function(a,b,h){h=w({relative:g.$current},h||{});if(z(a)&&-1<a.indexOf("*")){if(!q(a))return!1;a=g.$current.name}var e=c(a,h.relative);if(y(e)){if(!y(g.$current.includes[e.name]))return!1;if(!b)return!0;a=C(b);for(h=0;h<a.length;h++){var d=a[h],f=e.params[d];if(f&&!f.type.equals(k[d],b[d]))return!1}return C(b).reduce(function(a,c){var h=
e.params[c];return a&&!h||h.type.equals(k[c],b[c])},!0)}},href:function(a,b,h){h=w({lossy:!0,inherit:!0,absolute:!1,relative:g.$current},h||{});a=c(a,h.relative);if(!y(a))return null;h.inherit&&(b=X(k,b||{},g.$current,a));var e=a&&h.lossy?a.navigable:a;return e&&void 0!==e.url&&null!==e.url?n.href(e.url,O(a.params.$$keys().concat("#"),b||{}),{absolute:h.absolute}):null},get:function(a,b){if(0===arguments.length)return J(C(f),function(a){return f[a].self});var h=c(a,b||g.$current);return h&&h.self?
h.self:null}}}function r(a,b,c,e,d,f){function g(a,b,c){var h=a.params.$$keys().filter(function(b){return"search"!=a.params[b].location}),h=Y.apply({},[a.params].concat(h));return(new F.ParamSet(h)).$$equals(b,c)}if(!f.reload&&a===c&&(d===c.locals||!1===a.self.reloadOnSearch&&g(c,e,b)))return!0}var e,f={},g,b={},m={parent:function(a){return y(a.parent)&&a.parent?c(a.parent):(a=/^(.+)\.[^.]+$/.exec(a.name))?c(a[1]):e},data:function(a){a.parent&&a.parent.data&&(a.data=a.self.data=N(a.parent.data,a.data));
return a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(z(b))return"^"==b.charAt(0)?d.compile(b.substring(1),c):(a.parent.navigable||e).url.concat(b,c);if(!b||d.isMatcher(b))return b;throw Error("Invalid url '"+b+"' in state '"+a+"'");},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new F.ParamSet;v(a.params||{},function(a,c){b[c]||(b[c]=new F.Param(c,null,a,"config"))});return b},params:function(a){var b=Y(a.ownParams,
a.ownParams.$$keys());return a.parent&&a.parent.params?w(a.parent.params.$$new(),b):new F.ParamSet},views:function(a){var b={};v(y(a.views)?a.views:{"":a},function(c,e){0>e.indexOf("@")&&(e+="@"+a.parent.name);c.resolveAs=c.resolveAs||a.resolveAs||"$resolve";b[e]=c});return b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?w({},a.parent.includes):{};b[a.name]=!0;return b},$delegates:{}};e=k({name:"",url:"^",views:null,"abstract":!0});e.navigable=null;
this.decorator=function(a,b){if(z(a)&&!y(b))return m[a];if(!B(b)||!z(a))return this;m[a]&&!m.$delegates[a]&&(m.$delegates[a]=m[a]);m[a]=b;return this};this.state=function(a,b){H(a)?b=a:b.name=a;k(b);return this};this.$get=p;p.$inject="$rootScope $q $view $injector $resolve $stateParams $urlRouter $location $urlMatcherFactory".split(" ")}function ga(){function a(a,c){return{load:function(a,d){var k;d=w({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},d);d.view&&(k=
c.fromConfig(d.view,d.params,d.locals));return k}}}this.$get=a;a.$inject=["$rootScope","$templateFactory"]}function ha(a,d,c,l,n){function k(a,c){if(r)return{enter:function(a,c,e){2<u.version.minor?r.enter(a,null,c).then(e):r.enter(a,null,c,e)},leave:function(a,c){2<u.version.minor?r.leave(a).then(c):r.leave(a,c)}};if(p){var d=p&&p(c,a);return{enter:function(a,c,e){d.enter(a,null,c);e()},leave:function(a,c){d.leave(a);c()}}}return function(){return{enter:function(a,c,e){c.after(a);e()},leave:function(a,
c){a.remove();c()}}}()}var q=function(){return d.has?function(a){return d.has(a)?d.get(a):null}:function(a){try{return d.get(a)}catch(c){return null}}}(),p=q("$animator"),r=q("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,d,g){return function(b,e,d){function f(){q&&(q.remove(),q=null);v&&(v.$destroy(),v=null);if(r){var a=r.data("$uiViewAnim");z.leave(r,function(){a.$$animLeave.resolve();q=null});q=r;r=null}}function p(k){var q=ia(b,d,e,l),M=q&&a.$current&&
a.$current.locals[q];if(k||M!==w)k=b.$new(),w=a.$current.locals[q],k.$emit("$viewContentLoading",q),r=g(k,function(a){var d=n.defer(),g=n.defer();a.data("$uiViewAnim",{$animEnter:d.promise,$animLeave:g.promise,$$animLeave:g});z.enter(a,e,function(){d.resolve();v&&v.$emit("$viewContentAnimationEnded");(u.isDefined(x)&&!x||b.$eval(x))&&c(a)});f()}),v=k,v.$emit("$viewContentLoaded",q),v.$eval(y)}var q,r,v,w,y=d.onload||"",x=d.autoscroll,z=k(d,b);e.inheritedData("$uiView");b.$on("$stateChangeSuccess",
function(){p(!1)});p(!0)}}}}function ja(a,d,c,l){return{restrict:"ECA",priority:-400,compile:function(n){var k=n.html();n.empty?n.empty():n[0].innerHTML=null;return function(n,p,r){var e=c.$current;r=ia(n,r,p,l);if(e=e&&e.locals[r]){p.data("$uiView",{name:r,state:e.$$state});p.html(e.$template?e.$template:k);r=u.extend({},e);n[e.$$resolveAs]=r;var f=a(p.contents());if(e.$$controller){e.$scope=n;e.$element=p;var g=d(e.$$controller,e);e.$$controllerAs&&(n[e.$$controllerAs]=g,n[e.$$controllerAs][e.$$resolveAs]=
r);B(g.$onInit)&&g.$onInit();p.data("$ngControllerController",g);p.children().data("$ngControllerController",g)}f(n)}else p.html(k),a(p.contents())(n)}}}}function ia(a,d,c,l){a=l(d.uiView||d.name||"")(a);c=c.inheritedData("$uiView");return 0<=a.indexOf("@")?a:a+"@"+(c?c.state.name:"")}function ka(a,d){var c=a.match(/^\s*({[^}]*})\s*$/);c&&(a=d+"("+c[1]+")");c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!c||4!==c.length)throw Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||
null}}function la(a){if((a=a.parent().inheritedData("$uiView"))&&a.state&&a.state.name)return a.state}function ma(a){var d="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":d?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function na(a,d,c,l,n){return function(k){var q=k.which||k.button,p=n();if(!(1<q||k.ctrlKey||k.metaKey||k.shiftKey||a.attr("target"))){var r=c(function(){d.go(p.state,p.params,
p.options)});k.preventDefault();var e=l.isAnchor&&!p.href?1:0;k.preventDefault=function(){0>=e--&&c.cancel(r)}}}}function xa(a,d){return{relative:la(a)||d.$current,inherit:!0}}function oa(a,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,l,n,k){var q=ka(n.uiSref,a.current.name),p={state:q.state,href:null,params:null},r=ma(l),e=k[1]||k[0],f=null,g;p.options=w(xa(l,a),n.uiSrefOpts?c.$eval(n.uiSrefOpts):{});var b=function(b){b&&(p.params=u.copy(b));p.href=a.href(q.state,
p.params,p.options);f&&f();e&&(f=e.$$addStateInfo(q.state,p.params));null!==p.href&&n.$set(r.attr,p.href)};q.paramExpr&&(c.$watch(q.paramExpr,function(a){a!==p.params&&b(a)},!0),p.params=u.copy(c.$eval(q.paramExpr)));b();r.clickable&&(g=na(l,a,d,r,function(){return p}),l[l.on?"on":"bind"]("click",g),c.$on("$destroy",function(){l[l.off?"off":"unbind"]("click",g)}))}}}function pa(a,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,l,n,k){function q(b){e.state=b[0];
e.params=b[1];e.options=b[2];e.href=a.href(e.state,e.params,e.options);f&&f();r&&(f=r.$$addStateInfo(e.state,e.params));e.href&&n.$set(p.attr,e.href)}var p=ma(l),r=k[1]||k[0];k="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(a){return a||"null"}).join(", ")+"]";var e={state:null,params:null,options:null,href:null},f=null,g;c.$watch(k,q,!0);q(c.$eval(k));p.clickable&&(g=na(l,a,d,p,function(){return e}),l[l.on?"on":"bind"]("click",g),c.$on("$destroy",function(){l[l.off?"off":
"unbind"]("click",g)}))}}}function W(a,d,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(d,n,k,q){function p(c,e,d){var f=a.get(c,la(n)),h=r(c,e),k={state:f||{name:c},params:e,hash:h};g.push(k);b[h]=d;return function(){var a=g.indexOf(k);-1!==a&&g.splice(a,1)}}function r(a,b){if(!z(a))throw Error("state should be a string");if(H(b))return a+qa(b);b=d.$eval(b);return H(b)?a+qa(b):a}function e(){for(var c=0;c<g.length;c++)a.includes(g[c].state.name,g[c].params)?f(n,
b[g[c].hash]):n.removeClass(b[g[c].hash]),a.is(g[c].state.name,g[c].params)?f(n,m):n.removeClass(m)}function f(a,b){q(function(){a.addClass(b)})}var g=[],b={},m,h;m=c(k.uiSrefActiveEq||"",!1)(d);try{h=d.$eval(k.uiSrefActive)}catch(t){}h=h||c(k.uiSrefActive||"",!1)(d);H(h)&&v(h,function(b,c){if(z(b)){var e=ka(b,a.current.name);p(e.state,d.$eval(e.paramExpr),c)}});this.$$addStateInfo=function(a,b){if(!(H(h)&&0<g.length)){var c=p(a,b,h);e();return c}};d.$on("$stateChangeSuccess",e);e()}]}}function ra(a){var d=
function(c,d){return a.is(c,d)};d.$stateful=!0;return d}function sa(a){var d=function(c,d,n){return a.includes(c,d,n)};d.$stateful=!0;return d}var y=u.isDefined,B=u.isFunction,z=u.isString,H=u.isObject,D=u.isArray,v=u.forEach,w=u.extend,V=u.copy,qa=u.toJson;u.module("ui.router.util",["ng"]);u.module("ui.router.router",["ui.router.util"]);u.module("ui.router.state",["ui.router.router","ui.router.util"]);u.module("ui.router",["ui.router.state"]);u.module("ui.router.compat",["ui.router"]);Z.$inject=
["$q","$injector"];u.module("ui.router.util").service("$resolve",Z);u.module("ui.router.util").provider("$templateFactory",function(){var a=3>u.version.minor;this.shouldUnsafelyUseHttp=function(d){a=!!d};this.$get=["$http","$templateCache","$injector",function(d,c,l){return new wa(d,c,l,a)}]});var F;E.prototype.concat=function(a,d){var c={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new E(this.sourcePath+a+this.sourceSearch,w(c,d),this)};E.prototype.toString=
function(){return this.source};E.prototype.exec=function(a,d){function c(a){function b(a){return a.split("").reverse().join("")}a=b(a).split(/-(?!\\)/);a=J(a,b);return J(a,function(a){return a.replace(/\\-/g,"-")}).reverse()}var l=this.regexp.exec(a);if(!l)return null;d=d||{};var n=this.parameters(),k=n.length,q=this.segments.length-1,p={},r,e,f;if(q!==l.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");var g,b;for(r=0;r<q;r++){f=n[r];g=this.params[f];b=l[r+1];for(e=0;e<
g.replace.length;e++)g.replace[e].from===b&&(b=g.replace[e].to);b&&!0===g.array&&(b=c(b));y(b)&&(b=g.type.decode(b));p[f]=g.value(b)}for(;r<k;r++){f=n[r];p[f]=this.params[f].value(d[f]);g=this.params[f];b=d[f];for(e=0;e<g.replace.length;e++)g.replace[e].from===b&&(b=g.replace[e].to);y(b)&&(b=g.type.decode(b));p[f]=g.value(b)}return p};E.prototype.parameters=function(a){return y(a)?this.params[a]||null:this.$$paramNames};E.prototype.validates=function(a){return this.params.$$validates(a)};E.prototype.format=
function(a){function d(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,l=this.parameters(),n=this.params;if(!this.validates(a))return null;var k,q=!1,p=c.length-1,r=l.length,e=c[0];for(k=0;k<r;k++){var f=k<p,g=l[k],b=n[g],m=b.value(a[g]),h=b.isOptional&&b.type.equals(b.value(),m),t=h?b.squash:!1,m=b.type.encode(m);f?(f=c[k+1],g=k+1===p,!1===t?(null!=m&&(e=D(m)?e+J(m,d).join("-"):e+encodeURIComponent(m)),
e+=f):!0===t?(t=e.match(/\/$/)?/\/?(.*)/:/(.*)/,e+=f.match(t)[1]):z(t)&&(e+=t+f),g&&!0===b.squash&&"/"===e.slice(-1)&&(e=e.slice(0,-1))):null==m||h&&!1!==t||(D(m)||(m=[m]),0!==m.length&&(m=J(m,encodeURIComponent).join("&"+g+"="),e+=(q?"&":"?")+(g+"="+m),q=!0))}return e};x.prototype.is=function(a,d){return!0};x.prototype.encode=function(a,d){return a};x.prototype.decode=function(a,d){return a};x.prototype.equals=function(a,d){return a==d};x.prototype.$subPattern=function(){var a=this.pattern.toString();
return a.substr(1,a.length-2)};x.prototype.pattern=/.*/;x.prototype.toString=function(){return"{Type:"+this.name+"}"};x.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)};x.prototype.$asArray=function(a,d){if(!a)return this;if("auto"===a&&!d)throw Error("'auto' array mode is for query parameters only");return new function(a,d){function n(a,c){return function(){return a[c].apply(a,arguments)}}function k(a){return D(a)?a:y(a)?[a]:[]}function q(a){return!a}function p(a,c){return function(f){if(D(f)&&
0===f.length)return f;f=k(f);f=J(f,a);if(!0===c)return 0===S(f,q).length;a:switch(f.length){case 0:f=void 0;break a;case 1:f="auto"===d?f[0]:f;break a}return f}}this.encode=p(n(a,"encode"));this.decode=p(n(a,"decode"));this.is=p(n(a,"is"),!0);this.equals=function(a){return function(c,d){var g=k(c),b=k(d);if(g.length!==b.length)return!1;for(var l=0;l<g.length;l++)if(!a(g[l],b[l]))return!1;return!0}}(n(a,"equals"));this.pattern=a.pattern;this.$normalize=p(n(a,"$normalize"));this.name=a.name;this.$arrayMode=
d}(this,a)};u.module("ui.router.util").provider("$urlMatcherFactory",da);u.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]);ea.$inject=["$locationProvider","$urlMatcherFactoryProvider"];u.module("ui.router.router").provider("$urlRouter",ea);fa.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];u.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",fa).run(["$injector",function(a){a.get("$state.runtime").autoinject&&
a.get("$state")}]);ga.$inject=[];u.module("ui.router.state").provider("$view",ga);u.module("ui.router.state").provider("$uiViewScroll",function(){var a=!1;this.useAnchorScroll=function(){a=!0};this.$get=["$anchorScroll","$timeout",function(d,c){return a?d:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]});ha.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"];ja.$inject=["$compile","$controller","$state","$interpolate"];u.module("ui.router.state").directive("uiView",
ha);u.module("ui.router.state").directive("uiView",ja);oa.$inject=["$state","$timeout"];pa.$inject=["$state","$timeout"];W.$inject=["$state","$stateParams","$interpolate"];u.module("ui.router.state").directive("uiSref",oa).directive("uiSrefActive",W).directive("uiSrefActiveEq",W).directive("uiState",pa);ra.$inject=["$state"];sa.$inject=["$state"];u.module("ui.router.state").filter("isState",ra).filter("includedByState",sa)})(window,window.angular);