//# sourceMappingURL=select.js.map
(function(){var c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",
191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(h){switch(h.which){case c.COMMAND:case c.SHIFT:case c.CTRL:case c.ALT:return!0}return h.metaKey?!0:!1},isFunctionKey:function(h){h=h.which?h.which:h;return 112<=h&&123>=h},isVerticalMovement:function(h){return~[c.UP,c.DOWN].indexOf(h)},isHorizontalMovement:function(h){return~[c.LEFT,c.RIGHT,c.BACKSPACE,c.DELETE].indexOf(h)},toSeparator:function(h){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[h];return n?n:c[h]?void 0:h}};void 0===angular.element.prototype.querySelectorAll&&
(angular.element.prototype.querySelectorAll=function(h){return angular.element(this[0].querySelectorAll(h))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(h){for(var c=this[0],f=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector;c;){if(f.bind(c)(h))return c;c=c.parentElement}return!1});var C=0,y=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1E3,
closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return C++},appendToBody:!1}).service("uiSelectMinErr",function(){var c=angular.$$minErr("ui.select");return function(){var n=c.apply(this,arguments).message.replace(/\nhttp:\/\/errors.angularjs.org\/.*/,"");return Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(c,n,f,k,e){e(c,function(c){n.append(c)})}}}).filter("highlight",function(){return function(c,n){return n&&c?(""+c).replace(new RegExp((""+
n).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):c}}).factory("uisOffset",["$document","$window",function(c,n){return function(f){var k=f[0].getBoundingClientRect();return{width:k.width||f.prop("offsetWidth"),height:k.height||f.prop("offsetHeight"),top:k.top+(n.pageYOffset||c[0].documentElement.scrollTop),left:k.left+(n.pageXOffset||c[0].documentElement.scrollLeft)}}}]);y.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr",
"$compile","$window",function(c,n,f,k,e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(f){f.addClass("ui-select-choices");return(f.parent().attr("theme")||c.theme)+"/choices.tpl.html"},compile:function(r,l){if(!l.repeat)throw f("repeat","Expected 'repeat' expression.");return function(l,r,p,b,u){var g=p.groupBy;b.parseRepeatAttr(p.repeat,g,p.groupFilter);b.disableChoiceExpression=p.uiDisableChoice;b.onHighlightCallback=p.onHighlight;b.dropdownPosition=p.position?
p.position.toLowerCase():c.dropdownPosition;if(g){var d=r.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw f("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",n.getGroupNgRepeatExpression())}d=r.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw f("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",b.parserResult.repeatExpression(g)).attr("ng-if","$select.open");e.document.addEventListener&&d.attr("ng-mouseenter",
"$select.setActiveItem("+b.parserResult.itemName+")").attr("ng-click","$select.select("+b.parserResult.itemName+",$select.skipFocusser,$event)");g=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==g.length)throw f("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",g.length);g.attr("uis-transclude-append","");e.document.addEventListener||g.attr("ng-mouseenter","$select.setActiveItem("+b.parserResult.itemName+")").attr("ng-click","$select.select("+b.parserResult.itemName+",$select.skipFocusser,$event)");
k(r,u)(l);l.$watch("$select.search",function(d){d&&!b.open&&b.multiple&&b.activate(!1,!0);b.activeIndex=b.tagging.isActivated?-1:0;!p.minimumInputLength||b.search.length>=p.minimumInputLength?b.refresh(p.refresh):b.items=[]});p.$observe("refreshDelay",function(){var d=l.$eval(p.refreshDelay);b.refreshDelay=void 0!==d?d:c.refreshDelay})}}}}]);y.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(h,
n,f,k,e,r,l,v,q,p){function b(a,b,d){if(a.findIndex)return a.findIndex(b,d);a=Object(a);for(var c=a.length>>>0,z,f=0;f<c;f++)if(z=a[f],b.call(d,z,f,a))return f;return-1}function u(){if(a.resetSearchInput||void 0===a.resetSearchInput&&l.resetSearchInput)a.search="",a.selected&&a.items.length&&!a.multiple&&(a.activeIndex=b(a.items,function(a){return angular.equals(this,a)},a.selected))}function g(a,b){var d,c,f=[];for(d=0;d<b.length;d++)for(c=0;c<a.length;c++)a[c].name==[b[d]]&&f.push(a[c]);return f}
function d(b){var d=!0;switch(b){case c.DOWN:!a.open&&a.multiple?a.activate(!1,!0):a.activeIndex<a.items.length-1&&a.activeIndex++;break;case c.UP:!a.open&&a.multiple?a.activate(!1,!0):(0<a.activeIndex||0===a.search.length&&a.tagging.isActivated&&-1<a.activeIndex)&&a.activeIndex--;break;case c.TAB:a.multiple&&!a.open||a.select(a.items[a.activeIndex],!0);break;case c.ENTER:a.open&&(a.tagging.isActivated||0<=a.activeIndex)?a.select(a.items[a.activeIndex],a.skipFocusser):a.activate(!1,!0);break;case c.ESC:a.close();
break;default:d=!1}return d}function t(){var b=n.querySelectorAll(".ui-select-choices-content"),d=b.querySelectorAll(".ui-select-choices-row");if(1>d.length)throw r("choices","Expected multiple .ui-select-choices-row but got '{0}'.",d.length);if(!(0>a.activeIndex)){var d=d[a.activeIndex],c=d.offsetTop+d.clientHeight-b[0].scrollTop,f=b[0].offsetHeight;c>f?b[0].scrollTop+=c-f:c<d.clientHeight&&(b[0].scrollTop=a.isGrouped&&0===a.activeIndex?0:b[0].scrollTop-(d.clientHeight-c))}}var a=this;a.placeholder=
l.placeholder;a.searchEnabled=l.searchEnabled;a.sortable=l.sortable;a.refreshDelay=l.refreshDelay;a.paste=l.paste;a.removeSelected=!1;a.closeOnSelect=!0;a.skipFocusser=!1;a.search="";a.activeIndex=0;a.items=[];a.open=!1;a.focus=!1;a.disabled=!1;a.selected=void 0;a.dropdownPosition="auto";a.focusser=void 0;a.resetSearchInput=!0;a.multiple=void 0;a.disableChoiceExpression=void 0;a.tagging={isActivated:!1,fct:void 0};a.taggingTokens={isActivated:!1,tokens:void 0};a.lockChoiceExpression=void 0;a.clickTriggeredSelect=
!1;a.$filter=k;var B;try{B=q.get("$animate")}catch(x){B=null}a.$animate=B;a.searchInput=n.querySelectorAll("input.ui-select-search");if(1!==a.searchInput.length)throw r("searchInput","Expected 1 input.ui-select-search but got '{0}'.",a.searchInput.length);a.isEmpty=function(){return angular.isUndefined(a.selected)||null===a.selected||""===a.selected||a.multiple&&0===a.selected.length};a.activate=function(b,d){if(!a.disabled&&!a.open){d||u();h.$broadcast("uis:activate");a.open=!0;a.activeIndex=a.activeIndex>=
a.items.length?0:a.activeIndex;-1===a.activeIndex&&!1!==a.taggingLabel&&(a.activeIndex=0);var c=n.querySelectorAll(".ui-select-choices-content");if(a.$animate&&a.$animate.on&&a.$animate.enabled(c[0]))a.$animate.on("enter",c[0],function(d,c){"close"===c&&f(function(){a.focusSearchInput(b)})});else f(function(){a.focusSearchInput(b);!a.tagging.isActivated&&1<a.items.length&&t()})}};a.focusSearchInput=function(b){a.search=b||a.search;a.searchInput[0].focus()};a.findGroupByName=function(b){return a.groups&&
a.groups.filter(function(a){return a.name===b})[0]};a.parseRepeatAttr=function(b,d,c){function f(b){var x=h.$eval(d);a.groups=[];angular.forEach(b,function(b){var d=angular.isFunction(x)?x(b):b[x],c=a.findGroupByName(d);c?c.items.push(b):a.groups.push({name:d,items:[b]})});c&&(b=h.$eval(c),angular.isFunction(b)?a.groups=b(a.groups):angular.isArray(b)&&(a.groups=g(a.groups,b)));a.items=[];a.groups.forEach(function(b){a.items=a.items.concat(b.items)})}function z(b){a.items=b}a.setItemsFn=d?f:z;a.parserResult=
e.parse(b);a.isGrouped=!!d;a.itemProperty=a.parserResult.itemName;var t=a.parserResult.source,m=function(){var b=t(h);h.$uisSource=Object.keys(b).map(function(d){var c={};c[a.parserResult.keyName]=d;c.value=b[d];return c})};a.parserResult.keyName&&(m(),a.parserResult.source=v("$uisSource"+a.parserResult.filters),h.$watch(t,function(a,b){a!==b&&m()},!0));a.refreshItems=function(b){b=b||a.parserResult.source(h);var d=a.selected;a.isEmpty()||angular.isArray(d)&&!d.length||!a.removeSelected?a.setItemsFn(b):
void 0!==b&&(b=b.filter(function(a){return d.every(function(b){return!angular.equals(a,b)})}),a.setItemsFn(b));"auto"!==a.dropdownPosition&&"up"!==a.dropdownPosition||h.calculateDropdownPos()};h.$watchCollection(a.parserResult.source,function(b){if(void 0===b||null===b)a.items=[];else if(angular.isArray(b))a.refreshItems(b),a.ngModel.$modelValue=null;else throw r("items","Expected an array but got '{0}'.",b);})};var m;a.refresh=function(b){void 0!==b&&(m&&f.cancel(m),m=f(function(){h.$eval(b)},a.refreshDelay))};
a.isActive=function(b){if(!a.open)return!1;var d=a.items.indexOf(b[a.itemProperty]),c=d==a.activeIndex;if(!c||0>d&&!1!==a.taggingLabel||0>d&&!1===a.taggingLabel)return!1;c&&!angular.isUndefined(a.onHighlightCallback)&&b.$eval(a.onHighlightCallback);return c};a.isDisabled=function(b){if(a.open){var d=a.items.indexOf(b[a.itemProperty]),c=!1;0<=d&&!angular.isUndefined(a.disableChoiceExpression)&&(d=a.items[d],c=!!b.$eval(a.disableChoiceExpression),d._uiSelectChoiceDisabled=c);return c}};a.select=function(b,
d,c){if(!(void 0!==b&&b._uiSelectChoiceDisabled||!(a.items||a.search||a.tagging.isActivated)||b&&b._uiSelectChoiceDisabled)){if(a.tagging.isActivated){if(!1===a.taggingLabel)if(0>a.activeIndex){if(b=void 0!==a.tagging.fct?a.tagging.fct(a.search):a.search,!b||angular.equals(a.items[0],b))return}else b=a.items[a.activeIndex];else if(0===a.activeIndex){if(void 0===b)return;if(void 0!==a.tagging.fct&&"string"===typeof b){if(b=a.tagging.fct(b),!b)return}else"string"===typeof b&&(b=b.replace(a.taggingLabel,
"").trim())}if(a.selected&&angular.isArray(a.selected)&&0<a.selected.filter(function(a){return angular.equals(a,b)}).length){a.close(d);return}}h.$broadcast("uis:select",b);var t={};t[a.parserResult.itemName]=b;f(function(){a.onSelectCallback(h,{$item:b,$model:a.parserResult.modelMapper(h,t)})});a.closeOnSelect&&a.close(d);c&&"click"===c.type&&(a.clickTriggeredSelect=!0)}};a.close=function(b){a.open&&(a.ngModel&&a.ngModel.$setTouched&&a.ngModel.$setTouched(),u(),a.open=!1,h.$broadcast("uis:close",
b))};a.setFocus=function(){a.focus||a.focusInput[0].focus()};a.clear=function(b){a.select(void 0);b.stopPropagation();f(function(){a.focusser[0].focus()},0,!1)};a.toggle=function(b){a.open?(a.close(),b.preventDefault(),b.stopPropagation()):a.activate()};a.isLocked=function(b,d){var c,f=a.selected[d];f&&!angular.isUndefined(a.lockChoiceExpression)&&(c=!!b.$eval(a.lockChoiceExpression),f._uiSelectChoiceLocked=c);return c};var A=null;a.sizeSearchInput=function(){var b=a.searchInput[0],d=a.searchInput.parent().parent()[0],
c=function(){return d.clientWidth*!!b.offsetParent},t=function(d){if(0===d)return!1;var c=d-b.offsetLeft-10;50>c&&(c=d);a.searchInput.css("width",c+"px");return!0};a.searchInput.css("width","10px");f(function(){null!==A||t(c())||(A=h.$watch(c,function(a){t(a)&&(A(),A=null)}))})};a.searchInput.on("keydown",function(b){var g=b.which;~[c.ENTER,c.ESC].indexOf(g)&&(b.preventDefault(),b.stopPropagation());h.$apply(function(){var t=!1;if(0<a.items.length||a.tagging.isActivated)if(d(g),a.taggingTokens.isActivated){for(var m=
0;m<a.taggingTokens.tokens.length;m++)a.taggingTokens.tokens[m]===c.MAP[b.keyCode]&&0<a.search.length&&(t=!0);t&&f(function(){a.searchInput.triggerHandler("tagged");var d=a.search.replace(c.MAP[b.keyCode],"").trim();a.tagging.fct&&(d=a.tagging.fct(d));d&&a.select(d,!0)})}});c.isVerticalMovement(g)&&0<a.items.length&&t();if(g===c.ENTER||g===c.ESC)b.preventDefault(),b.stopPropagation()});a.searchInput.on("paste",function(b){var d;d=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):
(b.originalEvent||b).clipboardData.getData("text/plain");if((d=a.search+d)&&0<d.length)if(a.taggingTokens.isActivated){var f=c.toSeparator(a.taggingTokens.tokens[0]);(d=d.split(f||a.taggingTokens.tokens[0]))&&0<d.length&&(f=a.search,angular.forEach(d,function(b){(b=a.tagging.fct?a.tagging.fct(b):b)&&a.select(b,!0)}),a.search=f||"",b.preventDefault(),b.stopPropagation())}else a.paste&&(a.paste(d),a.search="",b.preventDefault(),b.stopPropagation())});a.searchInput.on("tagged",function(){f(function(){u()})});
h.$on("$destroy",function(){a.searchInput.off("keyup keydown tagged blur paste")});angular.element(p).bind("resize",function(){a.sizeSearchInput()})}]);y.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(c,n,f,k,e,r,l){return{restrict:"EA",templateUrl:function(c,f){return(f.theme||n.theme)+(angular.isDefined(f.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,
controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,q){var p=/{(.*)}\s*{(.*)}/.exec(q.ngClass);p&&(p="{"+p[1]+", "+p[2]+"}",q.ngClass=p,e.attr("ng-class",p));angular.isDefined(q.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>");q.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=q.inputId);return function(b,e,g,d,t){function a(a){if(m.open){var d=!1,d=window.jQuery?window.jQuery.contains(e[0],a.target):e[0].contains(a.target);
if(!d&&!m.clickTriggeredSelect){var c;m.skipFocusser?c=!0:(d=["input","button","textarea","select"],(c=(c=angular.element(a.target).controller("uiSelect"))&&c!==m)||(c=~d.indexOf(a.target.tagName.toLowerCase())));m.close(c);b.$digest()}m.clickTriggeredSelect=!1}}function p(){null!==x&&(x.replaceWith(e),x=null,e[0].style.position="",e[0].style.left="",e[0].style.top="",e[0].style.width=v,m.setFocus())}var m=d[0];d=d[1];m.generatedId=n.generateId();m.baseTitle=g.title||"Select box";m.focusserTitle=
m.baseTitle+" focus";m.focusserId="focusser-"+m.generatedId;var q;q=angular.isDefined(g.closeOnSelect)?r(g.closeOnSelect)():n.closeOnSelect;m.closeOnSelect=q;b.$watch("skipFocusser",function(){var a=b.$eval(g.skipFocusser);m.skipFocusser=void 0!==a?a:n.skipFocusser});m.onSelectCallback=r(g.onSelect);m.onRemoveCallback=r(g.onRemove);m.limit=angular.isDefined(g.limit)?parseInt(g.limit,10):void 0;m.ngModel=d;m.choiceGrouped=function(a){return m.isGrouped&&a&&a.name};g.tabindex&&g.$observe("tabindex",
function(a){m.focusInput.attr("tabindex",a);e.removeAttr("tabindex")});b.$watch("searchEnabled",function(){var a=b.$eval(g.searchEnabled);m.searchEnabled=void 0!==a?a:n.searchEnabled});b.$watch("sortable",function(){var a=b.$eval(g.sortable);m.sortable=void 0!==a?a:n.sortable});g.$observe("disabled",function(){m.disabled=void 0!==g.disabled?g.disabled:!1});g.$observe("resetSearchInput",function(){var a=b.$eval(g.resetSearchInput);m.resetSearchInput=void 0!==a?a:!0});g.$observe("paste",function(){m.paste=
b.$eval(g.paste)});g.$observe("tagging",function(){if(void 0!==g.tagging){var a=b.$eval(g.tagging);m.tagging={isActivated:!0,fct:!0!==a?a:void 0}}else m.tagging={isActivated:!1,fct:void 0}});g.$observe("taggingLabel",function(){void 0!==g.tagging&&(m.taggingLabel="false"===g.taggingLabel?!1:void 0!==g.taggingLabel?g.taggingLabel:"(new)")});g.$observe("taggingTokens",function(){if(void 0!==g.tagging){var a=void 0!==g.taggingTokens?g.taggingTokens.split("|"):[",","ENTER"];m.taggingTokens={isActivated:!0,
tokens:a}}});angular.isDefined(g.autofocus)&&l(function(){m.setFocus()});angular.isDefined(g.focusOn)&&b.$on(g.focusOn,function(){l(function(){m.setFocus()})});c.on("click",a);b.$on("$destroy",function(){c.off("click",a)});t(b,function(a){a=angular.element("<div>").append(a);var b=a.querySelectorAll(".ui-select-match");b.removeAttr("ui-select-match");b.removeAttr("data-ui-select-match");if(1!==b.length)throw f("transcluded","Expected 1 .ui-select-match but got '{0}'.",b.length);e.querySelectorAll(".ui-select-match").replaceWith(b);
a=a.querySelectorAll(".ui-select-choices");a.removeAttr("ui-select-choices");a.removeAttr("data-ui-select-choices");if(1!==a.length)throw f("transcluded","Expected 1 .ui-select-choices but got '{0}'.",a.length);e.querySelectorAll(".ui-select-choices").replaceWith(a)});t=b.$eval(g.appendToBody);if(void 0!==t?t:n.appendToBody)b.$watch("$select.open",function(a){a?(a=k(e),x=angular.element('<div class="ui-select-placeholder"></div>'),x[0].style.width=a.width+"px",x[0].style.height=a.height+"px",e.after(x),
v=e[0].style.width,c.find("body").append(e),e[0].style.position="absolute",e[0].style.left=a.left+"px",e[0].style.top=a.top+"px",e[0].style.width=a.width+"px"):p()}),b.$on("$destroy",function(){p()});var x=null,v="",w=null;b.$watch("$select.open",function(){"auto"!==m.dropdownPosition&&"up"!==m.dropdownPosition||b.calculateDropdownPos()});var y=function(a,b){a||k(e);b=b||k(w);w[0].style.position="absolute";w[0].style.top=-1*b.height+"px";e.addClass("direction-up")};b.calculateDropdownPos=function(){m.open?
(w=angular.element(e).querySelectorAll(".ui-select-dropdown"),0!==w.length&&(w[0].style.opacity=0,l(function(){if("up"===m.dropdownPosition)y();else{e.removeClass("direction-up");var a=k(e),b=k(w);a.top+a.height+b.height>(c[0].documentElement.scrollTop||c[0].body.scrollTop)+c[0].documentElement.clientHeight?y(a,b):(e.removeClass("direction-up"),a||k(e),b||k(w),w[0].style.position="",w[0].style.top="")}w[0].style.opacity=1}))):null!==w&&0!==w.length&&(w[0].style.position="",w[0].style.top="",e.removeClass("direction-up"))}}}}}]);
y.directive("uiSelectMatch",["uiSelectConfig",function(c){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var f=n.parent().attr("theme")||c.theme;n=n.parent().attr("multiple");return f+(n?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(n,f,k,e){function r(c){e.allowClear=angular.isDefined(c)?""===c?!0:"true"===c.toLowerCase():!1}e.lockChoiceExpression=k.uiLockChoice;k.$observe("placeholder",function(f){e.placeholder=
void 0!==f?f:c.placeholder});k.$observe("allowClear",r);r(k.allowClear);e.multiple&&e.sizeSearchInput()}}}]);y.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(h,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(c,k){var e=this,h=c.$select,l;angular.isUndefined(h.selected)&&(h.selected=[]);c.$evalAsync(function(){l=c.ngModel});e.activeMatchIndex=-1;e.updateModel=function(){l.$setViewValue(Date.now());e.refreshComponent()};e.refreshComponent=
function(){h.refreshItems();h.sizeSearchInput()};e.removeChoice=function(l){var n=h.selected[l];if(!n._uiSelectChoiceLocked){var p={};p[h.parserResult.itemName]=n;h.selected.splice(l,1);e.activeMatchIndex=-1;h.sizeSearchInput();k(function(){h.onRemoveCallback(c,{$item:n,$model:h.parserResult.modelMapper(c,p)})});e.updateModel()}};e.getPlaceholder=function(){if(!h.selected||!h.selected.length)return h.placeholder}}],controllerAs:"$selectMultiple",link:function(f,k,e,r){function l(b){return angular.isNumber(b.selectionStart)?
b.selectionStart:b.value.length}function v(d){var f=l(b.searchInput[0]),a=b.selected.length-1,e=g.activeMatchIndex,m=g.activeMatchIndex+1,p=g.activeMatchIndex-1,h=e;if(0<f||b.search.length&&d==c.RIGHT)return!1;b.close();h=function(){switch(d){case c.LEFT:return~g.activeMatchIndex?p:a;case c.RIGHT:if(~g.activeMatchIndex&&e!==a)return m;b.activate();return!1;case c.BACKSPACE:return~g.activeMatchIndex?(g.removeChoice(e),p):a;case c.DELETE:return~g.activeMatchIndex?(g.removeChoice(g.activeMatchIndex),
e):!1}}();g.activeMatchIndex=b.selected.length&&!1!==h?Math.min(a,Math.max(0,h)):-1;return!0}function q(d){return void 0===d||void 0===b.search?!1:0<d.filter(function(d){return void 0===b.search.toUpperCase()||void 0===d?!1:d.toUpperCase()===b.search.toUpperCase()}).length}function p(d,c){var a=-1;if(angular.isArray(d))for(var f=angular.copy(d),e=0;e<f.length;e++)if(void 0===b.tagging.fct)f[e]+" "+b.taggingLabel===c&&(a=e);else{var g=f[e];angular.isObject(g)&&(g.isTag=!0);angular.equals(g,c)&&(a=
e)}return a}var b=r[0],u=f.ngModel=r[1],g=f.$selectMultiple;b.multiple=!0;b.removeSelected=!0;b.focusInput=b.searchInput;u.$isEmpty=function(b){return!b||0===b.length};u.$parsers.unshift(function(){for(var d={},c=[],a=b.selected.length-1;0<=a;a--)d={},d[b.parserResult.itemName]=b.selected[a],d=b.parserResult.modelMapper(f,d),c.unshift(d);return c});u.$formatters.unshift(function(d){var c=b.parserResult.source(f,{$select:{search:""}}),a={},e;if(!c)return d;var g=[],p=function(d,c){if(d&&d.length){for(var h=
d.length-1;0<=h;h--){a[b.parserResult.itemName]=d[h];e=b.parserResult.modelMapper(f,a);if(b.parserResult.trackByExp){var p=/(\w*)\./.exec(b.parserResult.trackByExp),t=/\.([^\s]+)/.exec(b.parserResult.trackByExp);if(p&&0<p.length&&p[1]==b.parserResult.itemName&&t&&0<t.length&&e[t[1]]==c[t[1]])return g.unshift(d[h]),!0}if(angular.equals(e,c))return g.unshift(d[h]),!0}return!1}};if(!d)return g;for(var h=d.length-1;0<=h;h--)p(b.selected,d[h])||p(c,d[h])||g.unshift(d[h]);return g});f.$watchCollection(function(){return u.$modelValue},
function(b,c){c!=b&&(u.$modelValue=null,g.refreshComponent())});u.$render=function(){if(!angular.isArray(u.$viewValue))if(angular.isUndefined(u.$viewValue)||null===u.$viewValue)b.selected=[];else throw h("multiarr","Expected model value to be array but got '{0}'",u.$viewValue);b.selected=u.$viewValue;g.refreshComponent();f.$evalAsync()};f.$on("uis:select",function(d,c){b.selected.length>=b.limit||(b.selected.push(c),g.updateModel())});f.$on("uis:activate",function(){g.activeMatchIndex=-1});f.$watch("$select.disabled",
function(d,c){c&&!d&&b.sizeSearchInput()});b.searchInput.on("keydown",function(b){var e=b.which;f.$apply(function(){var a=!1;c.isHorizontalMovement(e)&&(a=v(e));a&&e!=c.TAB&&(b.preventDefault(),b.stopPropagation())})});b.searchInput.on("keyup",function(d){c.isVerticalMovement(d.which)||f.$evalAsync(function(){b.activeIndex=!1===b.taggingLabel?-1:0});if(b.tagging.isActivated&&0<b.search.length&&!(d.which===c.TAB||c.isControl(d)||c.isFunctionKey(d)||d.which===c.ESC||c.isVerticalMovement(d.which))&&
(b.activeIndex=!1===b.taggingLabel?-1:0,!1!==b.taggingLabel)){var e=angular.copy(b.items);d=angular.copy(b.items);var a,g,h=!1,k=-1,l;if(void 0!==b.tagging.fct){g=b.$filter("filter")(e,{isTag:!0});0<g.length&&(l=g[0]);0<e.length&&l&&(h=!0,e=e.slice(1,e.length),d=d.slice(1,d.length));a=b.tagging.fct(b.search);if(d.some(function(a){return angular.equals(a,b.tagging.fct(b.search))})||b.selected.some(function(b){return angular.equals(b,a)})){f.$evalAsync(function(){b.activeIndex=0;b.items=e});return}a.isTag=
!0}else{g=b.$filter("filter")(e,function(a){return a.match(b.taggingLabel)});0<g.length&&(l=g[0]);g=e[0];void 0!==g&&0<e.length&&l&&(h=!0,e=e.slice(1,e.length),d=d.slice(1,d.length));a=b.search+" "+b.taggingLabel;if(-1<p(b.selected,b.search))return;if(q(d.concat(b.selected))){h&&(e=d,f.$evalAsync(function(){b.activeIndex=0;b.items=e}));return}if(q(d)){h&&(b.items=d.slice(1,d.length));return}}h&&(k=p(b.selected,a));-1<k?e=e.slice(k+1,e.length-1):(e=[],e.push(a),e=e.concat(d));f.$evalAsync(function(){b.activeIndex=
0;b.items=e})}});b.searchInput.on("blur",function(){n(function(){g.activeMatchIndex=-1})})}}}]);y.directive("uiSelectSingle",["$timeout","$compile",function(h,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(f,k,e,r){var l=r[0],v=r[1];v.$parsers.unshift(function(c){var b={};b[l.parserResult.itemName]=c;return l.parserResult.modelMapper(f,b)});v.$formatters.unshift(function(c){var b=l.parserResult.source(f,{$select:{search:""}}),e={},g;if(b){var d=function(a){e[l.parserResult.itemName]=
a;g=l.parserResult.modelMapper(f,e);return g==c};if(l.selected&&d(l.selected))return l.selected;for(var h=b.length-1;0<=h;h--)if(d(b[h]))return b[h]}return c});f.$watch("$select.selected",function(c){v.$viewValue!==c&&v.$setViewValue(c)});v.$render=function(){l.selected=v.$viewValue};f.$on("uis:select",function(c,b){l.selected=b});f.$on("uis:close",function(c,b){h(function(){l.focusser.prop("disabled",!1);b||l.focusser[0].focus()},0,!1)});f.$on("uis:activate",function(){q.prop("disabled",!0)});var q=
angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(q)(f);l.focusser=q;l.focusInput=q;k.parent().append(q);q.bind("focus",function(){f.$evalAsync(function(){l.focus=!0})});q.bind("blur",function(){f.$evalAsync(function(){l.focus=!1})});q.bind("keydown",function(e){if(e.which===c.BACKSPACE)e.preventDefault(),e.stopPropagation(),
l.select(void 0),f.$apply();else if(e.which!==c.TAB&&!c.isControl(e)&&!c.isFunctionKey(e)&&e.which!==c.ESC){if(e.which==c.DOWN||e.which==c.UP||e.which==c.ENTER||e.which==c.SPACE)e.preventDefault(),e.stopPropagation(),l.activate();f.$digest()}});q.bind("keyup input",function(e){e.which===c.TAB||c.isControl(e)||c.isFunctionKey(e)||e.which===c.ESC||e.which==c.ENTER||e.which===c.BACKSPACE||(l.activate(q.val()),q.val(""),f.$digest())})}}}]);y.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",
function(c,n,f){return{require:"^^uiSelect",link:function(k,e,n,l){if(null===k[n.uiSelectSort])throw f("sort","Expected a list to sort");var v=angular.extend({axis:"horizontal"},k.$eval(n.uiSelectSortOptions)).axis;k.$watch(function(){return l.sortable},function(b){b?e.attr("draggable",!0):e.removeAttr("draggable")});e.on("dragstart",function(b){e.addClass("dragging");(b.dataTransfer||b.originalEvent.dataTransfer).setData("text",k.$index.toString())});e.on("dragend",function(){e.removeClass("dragging")});
var q=function(b,c){this.splice(c,0,this.splice(b,1)[0])},p=function(b){b.preventDefault();("vertical"===v?b.offsetY||b.layerY||(b.originalEvent?b.originalEvent.offsetY:0):b.offsetX||b.layerX||(b.originalEvent?b.originalEvent.offsetX:0))<this["vertical"===v?"offsetHeight":"offsetWidth"]/2?(e.removeClass("dropping-after"),e.addClass("dropping-before")):(e.removeClass("dropping-before"),e.addClass("dropping-after"))},b,u=function(d){d.preventDefault();var e=parseInt((d.dataTransfer||d.originalEvent.dataTransfer).getData("text"),
10);c.cancel(b);b=c(function(){g(e)},20)},g=function(b){var c=k.$eval(n.uiSelectSort),a=c[b],f=null,f=e.hasClass("dropping-before")?b<k.$index?k.$index-1:k.$index:b<k.$index?k.$index:k.$index+1;q.apply(c,[b,f]);k.$apply(function(){k.$emit("uiSelectSort:change",{array:c,item:a,from:b,to:f})});e.removeClass("dropping");e.removeClass("dropping-before");e.removeClass("dropping-after");e.off("drop",u)};e.on("dragenter",function(){e.hasClass("dragging")||(e.addClass("dropping"),e.on("dragover",p),e.on("drop",
u))});e.on("dragleave",function(b){b.target==e&&(e.removeClass("dropping"),e.removeClass("dropping-before"),e.removeClass("dropping-after"),e.off("dragover",p),e.off("drop",u))})}}}]);y.service("uisRepeatParser",["uiSelectMinErr","$parse",function(c,n){this.parse=function(f){var k;k=f.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",
f);f=k[5];var e="";if(k[3]){f=k[5].replace(/(^\()|(\)$)/g,"");var r=k[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);r&&r[1].trim()&&(e=r[1],f=f.replace(e,""))}return{itemName:k[4]||k[2],keyName:k[3],source:n(f),filters:e,trackByExp:k[6],modelMapper:n(k[1]||k[4]||k[2]),repeatExpression:function(c){c=this.itemName+" in "+(c?"$group.items":"$select.items");this.trackByExp&&(c+=" track by "+this.trackByExp);return c}}};this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();
angular.module("ui.select").run(["$templateCache",function(c){c.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>');
c.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');
c.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');
c.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');
c.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');
c.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');
c.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');
c.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');
c.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');
c.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>');
c.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');
c.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');c.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]);