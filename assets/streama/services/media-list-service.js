//# sourceMappingURL=media-list-service.js.map
angular.module("streama").factory("mediaListService",function(){function a(b){var a={max:d,offset:b.currentOffset,sort:b.currentSort.sort,order:b.currentSort.order};angular.extend(a,b.filter);b.fetch(a).then(function(a){a=a.data;b.total=a.total;b.list=0<b.currentOffset?_.unionBy(b.list,a.list,"id"):a.list;b.isLoading=!1})}var d;return{init:function(b,e,f){d=_.get(f,"amountOfMediaEntries",30);var c={total:0,currentSort:e||{sort:"title",order:"ASC"},list:[],currentOffset:0,isLoading:!0,sorter:_.getterSetter(function(b){c.currentSort=
b;c.currentOffset=0;a(c)},function(){return c.currentSort}),setFilter:function(){a(c)},filter:{tags:null,genre:[],title:null},fetch:b,search:function(){a(c)},loadMore:function(){c.currentOffset+=d;a(c)}};a(c);return c}}});