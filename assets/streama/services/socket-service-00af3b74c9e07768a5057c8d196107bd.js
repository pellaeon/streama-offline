//# sourceMappingURL=socket-service.js.map
angular.module("streama").factory("socketService",["$rootScope","contextPath","$timeout",function(b,d,g){return{subscription:null,browserSocketUUID:null,getUUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},registerPlayerSessonListener:function(a){var e=this,f=new SockJS(d+"stomp"),c=Stomp.over(f);c.connect({},function(){e.subscription=c.subscribe("/topic/playerSession/"+a,function(a){b.$broadcast("playerSession",
JSON.parse(a.body.toString()))})});this.browserSocketUUID=this.getUUID();b.browserSocketUUID=this.browserSocketUUID},unsubscribe:function(){this.subscription&&(this.subscription.unsubscribe(),this.browserSocketUUID=null,b.browserSocketUUID=null)}}}]);