//# sourceMappingURL=modal-generic-video-ctrl.js.map
angular.module("streama").controller("modalGenericVideoCtrl",["$scope","$uibModalInstance","apiService","video","uploadService",function(a,e,d,f,g){a.loading=!1;a.video=f||{};a.saveVideo=function(a){d.genericVideo.save(a).then(function(a){e.close(a.data)})};a.imageUpload={};a.uploadImage=function(b,c){g.doUpload(a.imageUpload,"file/upload.json",function(b){a.imageUpload.percentage=null;b.error||(console.log("%c type","color: deeppink; font-weight: bold; text-shadow: 0 0 5px deeppink;",c),a.video[c]=
b,a.video[c+"_src"]=b.src)},function(){},b)};d.genres.list().then(function(b){a.genres=b.data});a.deleteMovie=function(a){alertify.set({buttonReverse:!0,labels:{ok:"Yes",cancel:"Cancel"}});alertify.confirm("Are you sure, you want to delete this Episode?",function(c){c&&d.movie.delete(a.id).then(function(){e.close({deleted:!0})})})};a.onTagSelect=function(a){d.tag.save(a)};a.tagTransform=function(a){return{name:a,isNew:!0}};a.deleteTag=function(b){alertify.set({buttonReverse:!0,labels:{ok:"Yes",cancel:"Cancel"}});
alertify.confirm("Are you sure you want to delete the tag "+b.name,function(c){c&&d.tag.delete(b.id).then(function(){_.remove(a.tags,{id:b.id})})})};d.tag.list().then(function(b){a.tags=b.data});setTimeout(function(){$(".name-input").focus()},200);a.cancel=function(){e.dismiss("cancel")}}]);